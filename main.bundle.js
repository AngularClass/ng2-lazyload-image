webpackJsonp([2],{0:function(e,t,n){"use strict";function main(){return o.bootstrap(i.AppComponent).then(function(){return"ðŸ¦„"}).catch(function(e){return console.error(e)})}var o=n(181),i=n(291);o.bootstrap(i.AppComponent),document.addEventListener("DOMContentLoaded",main)},291:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(3>a?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(1),r=n(292),c=function(){function AppComponent(){this.images=["https://images.unsplash.com/photo-1431887773042-803ed52bed26?fm=jpg","https://images.unsplash.com/photo-1443890923422-7819ed4101c0?fm=jpg","https://images.unsplash.com/photo-1448960968772-b63b3f40dfc1?fm=jpg","https://images.unsplash.com/photo-1432256851563-20155d0b7a39?fm=jpg"]}return AppComponent=o([a.Component({selector:"my-app",template:'\n        <image *ngFor="let image of images" [src]="image"></image>\n    ',directives:[r.ImageComponent]}),i("design:paramtypes",[])],AppComponent)}();t.AppComponent=c},292:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(3>a?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(1),r=n(293),c=function(){function ImageComponent(){}return o([a.Input("src"),i("design:type",Object)],ImageComponent.prototype,"image",void 0),ImageComponent=o([a.Component({selector:"image",styles:["\n        img {\n            width: 100%;\n            min-height: 1000px;\n            transition: opacity 1s;\n            opacity: 0;\n        }\n\n        img.ng2-lazyloaded {\n            opacity: 1;\n        }\n    "],template:'\n        <img src="https://www.placecage.com/1000/1000" [lazyLoad]="image" offset="0">\n    ',directives:[r.LazyLoadImageDirective]}),i("design:paramtypes",[])],ImageComponent)}();t.ImageComponent=c},293:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(3>a?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0};n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205);var a=n(1),r=n(8),c=function(){function LazyLoadImageDirective(e){this._scrollTarget=window,this.elementRef=e}return Object.defineProperty(LazyLoadImageDirective.prototype,"scrollTarget",{set:function(e){this._scrollTarget=e||this._scrollTarget},enumerable:!0,configurable:!0}),LazyLoadImageDirective.prototype.ngAfterContentInit=function(){var e=this;this.scrollSubscription=r.Observable.merge(r.Observable.of(1),r.Observable.fromEvent(this._scrollTarget,"scroll")).sampleTime(100).filter(function(){return e.isVisible()}).take(1).switchMap(function(){return e.loadImage(e.lazyImage)}).map(function(){return e.setImage(e.lazyImage)}).finally(function(){return e.setLoadedStyle()}).subscribe(function(){return e.ngOnDestroy()},function(t){e.setImage(e.defaultImg),e.ngOnDestroy()})},LazyLoadImageDirective.prototype.loadImage=function(e){return r.Observable.create(function(t){var n=new Image;n.src=e,n.onload=function(){t.next(n),t.complete()},n.onerror=function(e){t.error(e),t.complete()}})},LazyLoadImageDirective.prototype.setImage=function(e){this.elementRef.nativeElement.src=e},LazyLoadImageDirective.prototype.setLoadedStyle=function(){var e=this.elementRef.nativeElement.className.split(" ").filter(function(e){return!!e}).filter(function(e){return"ng2-lazyloading"!==e});e.push("ng2-lazyloaded"),this.elementRef.nativeElement.className=e.join(" ")},LazyLoadImageDirective.prototype.isVisible=function(){var e=this.elementRef.nativeElement.getBoundingClientRect(),t=0|this.offset;return(e.top>=-t||e.bottom>=-t)&&e.left>=0&&e.bottom-e.height-t<=window.innerHeight&&e.right-e.width-t<=window.innerWidth},LazyLoadImageDirective.prototype.ngOnDestroy=function(){[this.scrollSubscription].filter(function(e){return e&&!e.isUnsubscribed}).forEach(function(e){return e.unsubscribe()})},o([a.Input("lazyLoad"),i("design:type",Object)],LazyLoadImageDirective.prototype,"lazyImage",void 0),o([a.Input("src"),i("design:type",Object)],LazyLoadImageDirective.prototype,"defaultImg",void 0),o([a.Input(),i("design:type",Object),i("design:paramtypes",[Object])],LazyLoadImageDirective.prototype,"scrollTarget",null),o([a.Input(),i("design:type",Object)],LazyLoadImageDirective.prototype,"offset",void 0),LazyLoadImageDirective=o([a.Directive({selector:"[lazyLoad]"}),i("design:paramtypes",[a.ElementRef])],LazyLoadImageDirective)}();t.LazyLoadImageDirective=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c}});
//# sourceMappingURL=main.js.map