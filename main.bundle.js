webpackJsonp([2],{0:function(e,t,n){"use strict";function main(){o.platformBrowserDynamic().bootstrapModule(i.AppModule)}var r=n(3),o=n(46),i=n(74);r.enableProdMode(),main()},53:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(27),i=n(1),c=n(4),a=n(10),s=function(e){function ConnectableObservable(t,n){e.call(this),this.source=t,this.subjectFactory=n,this._refCount=0}return r(ConnectableObservable,e),ConnectableObservable.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},ConnectableObservable.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},ConnectableObservable.prototype.connect=function(){var e=this._connection;return e||(e=this._connection=new a.Subscription,e.add(this.source.subscribe(new u(this.getSubject(),this))),e.closed?(this._connection=null,e=a.Subscription.EMPTY):this._connection=e),e},ConnectableObservable.prototype.refCount=function(){return this.lift(new l(this))},ConnectableObservable}(i.Observable);t.ConnectableObservable=s;var u=function(e){function ConnectableSubscriber(t,n){e.call(this,t),this.connectable=n}return r(ConnectableSubscriber,e),ConnectableSubscriber.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},ConnectableSubscriber.prototype._complete=function(){this._unsubscribe(),e.prototype._complete.call(this)},ConnectableSubscriber.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},ConnectableSubscriber}(o.SubjectSubscriber),l=function(){function RefCountOperator(e){this.connectable=e}return RefCountOperator.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new p(e,n),o=t._subscribe(r);return r.closed||(r.connection=n.connect()),o},RefCountOperator}(),p=function(e){function RefCountSubscriber(t,n){e.call(this,t),this.connectable=n}return r(RefCountSubscriber,e),RefCountSubscriber.prototype._unsubscribe=function(){var e=this.connectable;if(!e)return void(this.connection=null);this.connectable=null;var t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},RefCountSubscriber}(c.Subscriber)},73:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),c=function(){function AppComponent(){this.errorImg="https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg",this.images=["https://hd.unsplash.com/photo-1441765425173-8fd330fb4a02","https://hd.unsplash.com/photo-1451481454041-104482d8e284","https://hd.unsplash.com/photo-1471070855862-324d571a1857","https://hd.unsplash.com/photo-1415045550139-59b6fafc832f"]}return AppComponent=r([i.Component({selector:"my-app",template:'\n        <lz-image *ngFor="let image of images" [src]="image" [error]="errorImg"></lz-image>\n        <!-- <bg-image [src]="images[0]"></bg-image> -->\n    '}),o("design:paramtypes",[])],AppComponent)}();t.AppComponent=c},74:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),c=n(26),a=n(78),s=n(73),u=n(76),l=n(75),p=function(){function AppModule(){}return AppModule=r([i.NgModule({declarations:[s.AppComponent,u.LazyImageComponent,l.BgImageComponent],imports:[c.BrowserModule,a.LazyLoadImageModule],bootstrap:[s.AppComponent]}),o("design:paramtypes",[])],AppModule)}();t.AppModule=p},75:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),c=function(){function BgImageComponent(){}return r([i.Input("src"),o("design:type",Object)],BgImageComponent.prototype,"image",void 0),BgImageComponent=r([i.Component({selector:"bg-image",styles:["\n        div {\n            min-width: 1497px;\n            width: 100%;\n            min-height: 1127px;\n            background-position: center;\n            background-size: cover;\n            transition: opacity 1s;\n            opacity: 0;\n        }\n        .ng2-lazyloaded {\n            opacity: 1;\n        }\n    "],template:'\n        <div src="https://www.placecage.com/1000/1000" [lazyLoad]="image" offset="0">\n    '}),o("design:paramtypes",[])],BgImageComponent)}();t.BgImageComponent=c},76:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),c=function(){function LazyImageComponent(){}return r([i.Input("src"),o("design:type",Object)],LazyImageComponent.prototype,"image",void 0),r([i.Input("error"),o("design:type",Object)],LazyImageComponent.prototype,"errorImg",void 0),LazyImageComponent=r([i.Component({selector:"lz-image",styles:["\n        img {\n            min-width: 1497px;\n            width: 100%;\n            min-height: 1127px;\n            transition: opacity 1s;\n            opacity: 0;\n        }\n\n        img.ng2-lazyloaded {\n            opacity: 1;\n        }\n    "],template:'\n        <img src="https://www.placecage.com/1000/1000" [lazyLoad]="image" [errorImage]="errorImg" offset="0">\n    '}),o("design:paramtypes",[])],LazyImageComponent)}();t.LazyImageComponent=c},77:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};n(48),n(49),n(88),n(51),n(52);var i=n(3),c=n(1),a=n(79),s=function(){function LazyLoadImageDirective(e){this._scrollTarget=window,this.elementRef=e}return Object.defineProperty(LazyLoadImageDirective.prototype,"scrollTarget",{set:function(e){this._scrollTarget=e||this._scrollTarget},enumerable:!0,configurable:!0}),LazyLoadImageDirective.prototype.ngAfterContentInit=function(){var e=this;this.scrollSubscription=a.getScrollListener(this._scrollTarget).filter(function(){return e.isVisible()}).take(1).switchMap(function(){return e.loadImage(e.lazyImage)}).do(function(){return e.setImage(e.lazyImage)}).finally(function(){return e.setLoadedStyle()}).subscribe(function(){return e.ngOnDestroy()},function(t){e.setImage(e.errorImg||e.defaultImg),e.ngOnDestroy()})},LazyLoadImageDirective.prototype.loadImage=function(e){return c.Observable.create(function(t){var n=new Image;n.src=e,n.onload=function(){t.next(n),t.complete()},n.onerror=function(e){t.error(e),t.complete()}})},LazyLoadImageDirective.prototype.setImage=function(e){var t=this.elementRef.nativeElement,n="img"===this.elementRef.nativeElement.nodeName.toLowerCase();n?t.src=e:t.style.backgroundImage="url('"+e+"')"},LazyLoadImageDirective.prototype.setLoadedStyle=function(){var e=this.elementRef.nativeElement.className.split(" ").filter(function(e){return!!e}).filter(function(e){return"ng2-lazyloading"!==e});e.push("ng2-lazyloaded"),this.elementRef.nativeElement.className=e.join(" ")},LazyLoadImageDirective.prototype.isVisible=function(){var e=this.elementRef.nativeElement.getBoundingClientRect(),t=0|this.offset,n=e.top<=t&&e.bottom>=-t,r=e.top>=0&&e.top<=window.innerHeight,o=e.bottom>=0&&e.bottom<=window.innerHeight,i=e.right>=-t&&e.right-t<=window.innerWidth,c=e.left>=-t&&e.left-t<=window.innerWidth;return n||(r||o)&&(i||c)},LazyLoadImageDirective.prototype.ngOnDestroy=function(){[this.scrollSubscription].filter(function(e){return e&&!e.isUnsubscribed}).forEach(function(e){return e.unsubscribe()})},r([i.Input("lazyLoad"),o("design:type",Object)],LazyLoadImageDirective.prototype,"lazyImage",void 0),r([i.Input("src"),o("design:type",Object)],LazyLoadImageDirective.prototype,"defaultImg",void 0),r([i.Input("errorImage"),o("design:type",Object)],LazyLoadImageDirective.prototype,"errorImg",void 0),r([i.Input(),o("design:type",Object),o("design:paramtypes",[Object])],LazyLoadImageDirective.prototype,"scrollTarget",null),r([i.Input(),o("design:type",Number)],LazyLoadImageDirective.prototype,"offset",void 0),LazyLoadImageDirective=r([i.Directive({selector:"[lazyLoad]"}),o("design:paramtypes",[i.ElementRef])],LazyLoadImageDirective)}();t.LazyLoadImageDirective=s},78:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),c=n(77),a=function(){function LazyLoadImageModule(){}return LazyLoadImageModule=r([i.NgModule({declarations:[c.LazyLoadImageDirective],exports:[c.LazyLoadImageDirective]}),o("design:paramtypes",[])],LazyLoadImageModule)}();t.LazyLoadImageModule=a},79:function(e,t,n){"use strict";function sampleObservable(e,t){return e.sampleTime(100,t).share().startWith("")}n(91),n(50),n(90),n(84);var r=n(1),o=new WeakMap;t.sampleObservable=sampleObservable,t.getScrollListener=function(e){if(!e||"function"!=typeof e.addEventListener)return console.warn("`addEventListener` on "+e+" (scrollTarget) is not a function. Skipping this target"),r.Observable.empty();if(o.has(e))return o.get(e);var t=r.Observable.create(function(t){var n="scroll",r=function(e){return t.next(e)},o={passive:!0,capture:!1};return e.addEventListener(n,r,o),function(){return e.removeEventListener(n,r,o)}}),n=sampleObservable(t);return o.set(e,n),n}},84:function(e,t,n){"use strict";var r=n(1),o=n(94);r.Observable.empty=o.empty},88:function(e,t,n){"use strict";var r=n(1),o=n(99);r.Observable.prototype.do=o._do},90:function(e,t,n){"use strict";var r=n(1),o=n(106);r.Observable.prototype.share=o.share},91:function(e,t,n){"use strict";var r=n(1),o=n(107);r.Observable.prototype.startWith=o.startWith},93:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(1),i=n(53),c=function(e){function MulticastObservable(t,n,r){e.call(this),this.source=t,this.subjectFactory=n,this.selector=r}return r(MulticastObservable,e),MulticastObservable.prototype._subscribe=function(e){var t=this,n=t.selector,r=t.source,o=new i.ConnectableObservable(r,this.subjectFactory),c=n(o).subscribe(e);return c.add(o.connect()),c},MulticastObservable}(o.Observable);t.MulticastObservable=c},94:function(e,t,n){"use strict";var r=n(18);t.empty=r.EmptyObservable.create},98:function(e,t,n){"use strict";function concat(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return concatStatic.apply(void 0,[this].concat(e))}function concatStatic(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=null,c=e;return r.isScheduler(c[e.length-1])&&(n=c.pop()),new o.ArrayObservable(e,n).lift(new i.MergeAllOperator(1))}var r=n(19),o=n(17),i=n(55);t.concat=concat,t.concatStatic=concatStatic},99:function(e,t,n){"use strict";function _do(e,t,n){return this.lift(new i(e,t,n))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(4);t._do=_do;var i=function(){function DoOperator(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return DoOperator.prototype.call=function(e,t){return t._subscribe(new c(e,this.nextOrObserver,this.error,this.complete))},DoOperator}(),c=function(e){function DoSubscriber(t,n,r,i){e.call(this,t);var c=new o.Subscriber(n,r,i);c.syncErrorThrowable=!0,this.add(c),this.safeSubscriber=c}return r(DoSubscriber,e),DoSubscriber.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},DoSubscriber.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},DoSubscriber.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},DoSubscriber}(o.Subscriber)},104:function(e,t,n){"use strict";function multicast(e,t){var n;return n="function"==typeof e?e:function(){return e},t?new r.MulticastObservable(this,n,t):new o.ConnectableObservable(this,n)}var r=n(93),o=n(53);t.multicast=multicast},106:function(e,t,n){"use strict";function shareSubjectFactory(){return new o.Subject}function share(){return r.multicast.call(this,shareSubjectFactory).refCount()}var r=n(104),o=n(27);t.share=share},107:function(e,t,n){"use strict";function startWith(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[e.length-1];a.isScheduler(n)?e.pop():n=null;var s=e.length;return 1===s?c.concatStatic(new o.ScalarObservable(e[0],n),this):s>1?c.concatStatic(new r.ArrayObservable(e,n),this):c.concatStatic(new i.EmptyObservable(n),this)}var r=n(17),o=n(54),i=n(18),c=n(98),a=n(19);t.startWith=startWith}});
//# sourceMappingURL=main.js.map